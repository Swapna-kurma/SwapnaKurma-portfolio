<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mini Gen AI App</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 30px; background: #f2f2f2; }
        #container { width: 100%; max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
        #messages { height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; background: #fafafa; }
        .msg { margin-bottom: 12px; }
        .user { font-weight: bold; color: #1565c0; }
        .ai { font-weight: bold; color: #008000; }
        input, button {
            padding: 10px; width: 100%; margin-top: 10px;
            border-radius: 6px; border: 1px solid #aaa;
        }
        button { background: #1565c0; color: white; cursor: pointer; }
        button:hover { background: #0f4fa8; }
    </style>
</head>
<body>

<div id="container">
    <h2>Mini Gen AI Chat</h2>
    <div id="messages"></div>

    <input type="text" id="userInput" placeholder="Ask me anything..." />
    <button onclick="sendToAI()">Send</button>
</div>

<script>
    async function sendToAI() {
        const input = document.getElementById("userInput").value;
        if (!input) return;

        addMessage("user", input);
        document.getElementById("userInput").value = "";

        // ---- Replace with your own API key ----
        const API_KEY = "YOUR_OPENAI_API_KEY";
        // ---------------------------------------

        addMessage("ai", "Thinking...");

        const response = await fetch("https://api.openai.com/v1/chat/completions", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": "Bearer " + API_KEY
            },
            body: JSON.stringify({
                model: "gpt-4o-mini",
                messages: [{ role: "user", content: input }]
            })
        });

        const data = await response.json();
        const aiReply = data.choices[0].message.content;

        updateLastAIMessage(aiReply);
    }

    function addMessage(sender, text) {
        const messages = document.getElementById("messages");
        const div = document.createElement("div");
        div.classList.add("msg");
        div.innerHTML = `<span class="${sender}">${sender.toUpperCase()}:</span> ${text}`;
        messages.appendChild(div);
        messages.scrollTop = messages.scrollHeight;
    }

    function updateLastAIMessage(text) {
        const messages = document.getElementById("messages").children;
        const last = messages[messages.length - 1];
        last.innerHTML = `<span class="ai">AI:</span> ${text}`;
    }
</script>

</body>
</html>
